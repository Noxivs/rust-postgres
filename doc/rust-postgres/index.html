<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>rust-postgres - Rust</title>

    <link href='http://fonts.googleapis.com/css?family=Oswald:700|Inconsolata:400'
          rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../rust-postgres/main.css">

    
</head>
<body>
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    <section class="sidebar">
        

        <p class='location'></p>
    </section>

    <nav class="sub">
        <form class="search-form js-only">
            <button class="do-search">Search</button>
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Search documentation..."
                       type="search" />
            </div>
        </form>
    </nav>

    <section id='main' class="content mod"><a class='source'
                       href='../src/rust-postgres/lib.rs.html#1-1263'>[src]</a><h1 class='fqn'>Module <a class='mod' href=''>rust-postgres</a></h1><div class='docblock'><p>Rust-Postgres is a pure-Rust frontend for the popular PostgreSQL database. It
exposes a high level interface in the vein of JDBC or Go&#39;s <code>database/sql</code>
package.</p>

<pre><code class="rust">extern mod postgres = &quot;github.com/sfackler/rust-postgres&quot;;
extern mod extra;

use extra::time;
use extra::time::Timespec;

use postgres::{PostgresConnection, PostgresStatement, NoSsl};
use postgres::types::ToSql;

struct Person {
    id: i32,
    name: ~str,
    time_created: Timespec,
    data: Option&lt;~[u8]&gt;
}

fn main() {
    let conn = PostgresConnection::connect(&quot;postgres://postgres@localhost&quot;,
                                           &amp;NoSsl);

    conn.update(&quot;CREATE TABLE person (
                    id              SERIAL PRIMARY KEY,
                    name            VARCHAR NOT NULL,
                    time_created    TIMESTAMP NOT NULL,
                    data            BYTEA
                 )&quot;, []);
    let me = Person {
        id: 0,
        name: ~&quot;Steven&quot;,
        time_created: time::get_time(),
        data: None
    };
    conn.update(&quot;INSERT INTO person (name, time_created, data)
                    VALUES ($1, $2, $3)&quot;,
                [&amp;me.name as &amp;ToSql, &amp;me.time_created as &amp;ToSql,
                 &amp;me.data as &amp;ToSql]);

    let stmt = conn.prepare(&quot;SELECT id, name, time_created, data FROM person&quot;);
    for row in stmt.query([]) {
        let person = Person {
            id: row[1],
            name: row[2],
            time_created: row[3],
            data: row[4]
        };
        println!(&quot;Found person {}&quot;, person.name);
    }
}</code></pre>
</div><h2>Modules</h2>
<table>
                    <tr>
                        <td><a class='mod' href='error/index.html'
                               title='rust-postgres::error'>error</a></td>
                        <td class='docblock short'><p>Postgres errors</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='mod' href='pool/index.html'
                               title='rust-postgres::pool'>pool</a></td>
                        <td class='docblock short'><p>A simple connection pool</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='mod' href='types/index.html'
                               title='rust-postgres::types'>types</a></td>
                        <td class='docblock short'><p>Traits dealing with Postgres data types</p>
</td>
                    </tr>
                </table><h2>Structs</h2>
<table>
                    <tr>
                        <td><a class='struct' href='struct.DefaultNoticeHandler.html'
                               title='rust-postgres::DefaultNoticeHandler'>DefaultNoticeHandler</a></td>
                        <td class='docblock short'><p>A notice handler which logs at the <code>info</code> level.</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='struct' href='struct.NormalPostgresStatement.html'
                               title='rust-postgres::NormalPostgresStatement'>NormalPostgresStatement</a></td>
                        <td class='docblock short'><p>A statement prepared outside of a transaction.</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='struct' href='struct.PostgresCancelData.html'
                               title='rust-postgres::PostgresCancelData'>PostgresCancelData</a></td>
                        <td class='docblock short'><p>Contains information necessary to cancel queries for a session</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='struct' href='struct.PostgresConnection.html'
                               title='rust-postgres::PostgresConnection'>PostgresConnection</a></td>
                        <td class='docblock short'><p>A connection to a Postgres database.</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='struct' href='struct.PostgresNotification.html'
                               title='rust-postgres::PostgresNotification'>PostgresNotification</a></td>
                        <td class='docblock short'><p>An asynchronous notification</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='struct' href='struct.PostgresNotificationIterator.html'
                               title='rust-postgres::PostgresNotificationIterator'>PostgresNotificationIterator</a></td>
                        <td class='docblock short'><p>An iterator over asynchronous notifications</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='struct' href='struct.PostgresResult.html'
                               title='rust-postgres::PostgresResult'>PostgresResult</a></td>
                        <td class='docblock short'><p>An iterator over the resulting rows of a query.</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='struct' href='struct.PostgresRow.html'
                               title='rust-postgres::PostgresRow'>PostgresRow</a></td>
                        <td class='docblock short'><p>A single result row of a query.</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='struct' href='struct.PostgresTransaction.html'
                               title='rust-postgres::PostgresTransaction'>PostgresTransaction</a></td>
                        <td class='docblock short'><p>Represents a transaction on a database connection</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='struct' href='struct.ResultDescription.html'
                               title='rust-postgres::ResultDescription'>ResultDescription</a></td>
                        <td class='docblock short'><p>Information about a column of the result of a query.</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='struct' href='struct.TransactionalPostgresStatement.html'
                               title='rust-postgres::TransactionalPostgresStatement'>TransactionalPostgresStatement</a></td>
                        <td class='docblock short'><p>A statement prepared inside of a transaction.</p>
</td>
                    </tr>
                </table><h2>Enums</h2>
<table>
                    <tr>
                        <td><a class='enum' href='enum.SslMode.html'
                               title='rust-postgres::SslMode'>SslMode</a></td>
                        <td class='docblock short'><p>Specifies the SSL support requested for a new connection</p>
</td>
                    </tr>
                </table><h2>Traits</h2>
<table>
                    <tr>
                        <td><a class='trait' href='trait.PostgresNoticeHandler.html'
                               title='rust-postgres::PostgresNoticeHandler'>PostgresNoticeHandler</a></td>
                        <td class='docblock short'><p>Trait for types that can handle Postgres notice messages</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='trait' href='trait.PostgresStatement.html'
                               title='rust-postgres::PostgresStatement'>PostgresStatement</a></td>
                        <td class='docblock short'><p>A trait containing methods that can be called on a prepared statement.</p>
</td>
                    </tr>
                
                    <tr>
                        <td><a class='trait' href='trait.RowIndex.html'
                               title='rust-postgres::RowIndex'>RowIndex</a></td>
                        <td class='docblock short'><p>A trait implemented by types that can index into columns of a row.</p>
</td>
                    </tr>
                </table><h2>Functions</h2>
<table>
                    <tr>
                        <td><a class='fn' href='fn.cancel_query.html'
                               title='rust-postgres::cancel_query'>cancel_query</a></td>
                        <td class='docblock short'><p>Attempts to cancel an in-progress query.</p>
</td>
                    </tr>
                </table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <script>
        var rootPath = "../";
    </script>
    <script src="../rust-postgres/jquery.js"></script>
    <script src="../rust-postgres/search-index.js"></script>
    <script src="../rust-postgres/main.js"></script>

    <div id="help" class="hidden">
        <div class="shortcuts">
            <h1>Keyboard shortcuts</h1>
            <dl>
                <dt>?</dt>
                <dd>Show this help dialog</dd>
                <dt>S</dt>
                <dd>Focus the search field</dd>
                <dt>&uarr;</dt>
                <dd>Move up in search results</dd>
                <dt>&darr;</dt>
                <dd>Move down in search results</dd>
                <dt>&#9166;</dt>
                <dd>Go to active search result</dd>
            </dl>
        </div>
        <div class="infos">
            <h1>Search tricks</h1>
            <p>
                Prefix searches with a type followed by a colon (e.g.
                <code>fn:</code>) to restrict the search to a given type.
            </p>
            <p>
                Accepted types are: <code>fn</code>, <code>mod</code>,
                <code>struct</code> (or <code>str</code>), <code>enum</code>,
                <code>trait</code>, <code>typedef</code> (or
                <code>tdef</code>).
            </p>
        </div>
    </div>
</body>
</html>
